<!-- index.wxml -->
<map id="map"
  longitude="{{longitude}}"
  latitude="{{latitude}}"
  scale="{{scale}}"
  markers="{{markers}}"
  show-location
  bindtap="onMapTap"
  bindmarkertap="onMarkerTap"
  bind:callouttap="onMarkerTap"
  style="width: 100%; height: 100vh;">
</map>

<view class="controls">
  <button bindtap="moveToLocation" class="location-button">定位</button>
</view>

<view class="marker-callout" wx:if="{{selectedMarker}}">
  <view class="marker-title">{{selectedMarker.title}}</view>
  <view class="marker-actions">
    <button size="mini" bindtap="editMarker">编辑</button>
    <button size="mini" type="warn" bindtap="deleteMarker">删除</button>
  </view>
</view>